(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[723],{8973:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/notification",function(){return n(154)}])},8980:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var i=n(5893),r=n(7294),o=n(1163),a=n(9008),s=n.n(a),c=n(3946),l=n(8849),d=n(5317),u=n(8298),p=n(2734),m=n(2293),h=n(5582),g=n(155),f=n(6886),x=n(3321),y=n(5861),v=n(7357);function j(e){let{children:t}=e,n=(0,u.Z)({disableHysteresis:!0,threshold:24});return(0,r.cloneElement)(t,{elevation:n?4:0})}var Z=function(){let[e,t]=(0,r.useState)(!1);(0,r.useCallback)(()=>{t(!e)},[e]);let n=(0,p.Z)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(j,{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.Z,{color:"transparent",elevation:0,children:(0,i.jsx)(h.Z,{maxWidth:"xl",sx:{padding:0},children:(0,i.jsx)(g.Z,{sx:{minHeight:50,maxHeight:50,padding:0,flex:1,alignItems:"center",justifyContent:"space-between",display:"flex",flexWrap:"nowrap"},children:(0,i.jsx)(f.ZP,{item:!0,children:(0,i.jsx)(x.Z,{href:"https://system-bridge.timmo.dev",target:"_blank",children:(0,i.jsx)(y.Z,{component:"div",variant:"h4",sx:{textTransform:"none",userSelect:"none",color:n.palette.primary.contrastText},children:"System Bridge"})})})})})}),(0,i.jsx)(v.Z,{sx:{height:n.spacing(18)}})]})})})};let w=!1;var k=function(e){let t=(0,o.useRouter)();return(0,r.useEffect)(()=>{if(t.isReady&&!w){var e,n,i,r;w=!0;let o=(null===(e=t.query)||void 0===e?void 0:e.apiKey)||"",a=(null===(n=t.query)||void 0===n?void 0:n.apiPort)||"9170",s=!1;if((null===(i=t.query)||void 0===i?void 0:i.apiKey)||(s=!0,o=window.prompt("Please enter your API key",o)),(null===(r=t.query)||void 0===r?void 0:r.apiPort)||(s=!0,a=window.prompt("Please enter your API port (default: 9170)",a)),s&&o&&a){let e=t.asPath.split("?")[0];t.replace({pathname:e.includes(".html")?e:"".concat(e,".html"),query:{...t.query,apiKey:o,apiPort:a}})}}},[t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("title",{children:e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,i.jsx)("link",{rel:"canonical",href:e.url}),(0,i.jsx)("meta",{name:"description",content:e.description?"".concat(e.description):e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,i.jsx)("meta",{name:"keywords",content:e.keywords?"".concat(e.keywords):"system-bridge, system, bridge, typescript"})]}),!e.noHeader&&(0,i.jsx)(Z,{}),e.closeButton&&(0,i.jsx)(c.Z,{size:"small",sx:{position:"absolute",top:4,right:4,zIndex:1e3},onClick:()=>{window.location.href="http://close.window"},children:(0,i.jsx)(l.Icon,{id:"close",path:d.r5M,size:1})}),e.children]})}},154:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $}});var i=n(5893),r=n(7294),o=n(1163),a=n(2734),s=n(3366),c=n(7462),l=n(209),d=n(9766),u=n(4780),p=n(4867),m=n(3264),h=n(9628),g=n(9707),f=n(6500),x=n(5408),y=n(8700);let v=["component","direction","spacing","divider","children","className","useFlexGap"],j=(0,f.Z)(),Z=(0,m.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function w(e){return(0,h.Z)({props:e,name:"MuiStack",defaultTheme:j})}let k=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],b=({ownerState:e,theme:t})=>{let n=(0,c.Z)({display:"flex",flexDirection:"column"},(0,x.k9)({theme:t},(0,x.P$)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let i=(0,y.hB)(t),r=Object.keys(t.breakpoints.values).reduce((t,n)=>(("object"==typeof e.spacing&&null!=e.spacing[n]||"object"==typeof e.direction&&null!=e.direction[n])&&(t[n]=!0),t),{}),o=(0,x.P$)({values:e.direction,base:r}),a=(0,x.P$)({values:e.spacing,base:r});"object"==typeof o&&Object.keys(o).forEach((e,t,n)=>{let i=o[e];if(!i){let i=t>0?o[n[t-1]]:"column";o[e]=i}}),n=(0,d.Z)(n,(0,x.k9)({theme:t},a,(t,n)=>e.useFlexGap?{gap:(0,y.NA)(i,t)}:{"& > :not(style) ~ :not(style)":{margin:0,[`margin${k(n?o[n]:e.direction)}`]:(0,y.NA)(i,t)}}))}return(0,x.dt)(t.breakpoints,n)};var C=n(948),P=n(1657);let S=function(e={}){let{createStyledComponent:t=Z,useThemeProps:n=w,componentName:o="MuiStack"}=e,a=()=>(0,u.Z)({root:["root"]},e=>(0,p.Z)(o,e),{}),d=t(b),m=r.forwardRef(function(e,t){let o=n(e),u=(0,g.Z)(o),{component:p="div",direction:m="column",spacing:h=0,divider:f,children:x,className:y,useFlexGap:j=!1}=u,Z=(0,s.Z)(u,v),w=a();return(0,i.jsx)(d,(0,c.Z)({as:p,ownerState:{direction:m,spacing:h,useFlexGap:j},ref:t,className:(0,l.Z)(w.root,y)},Z,{children:f?function(e,t){let n=r.Children.toArray(e).filter(Boolean);return n.reduce((e,i,o)=>(e.push(i),o<n.length-1&&e.push(r.cloneElement(t,{key:`separator-${o}`})),e),[])}(x,f):x}))});return m}({createStyledComponent:(0,C.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,P.Z)({props:e,name:"MuiStack"})});var M=n(3680);function N(e){return(0,p.Z)("MuiCardMedia",e)}(0,n(1588).Z)("MuiCardMedia",["root","media","img"]);let R=["children","className","component","image","src","style"],_=e=>{let{classes:t,isMediaComponent:n,isImageComponent:i}=e;return(0,u.Z)({root:["root",n&&"media",i&&"img"]},N,t)},I=(0,C.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e,{isMediaComponent:i,isImageComponent:r}=n;return[t.root,i&&t.media,r&&t.img]}})(({ownerState:e})=>(0,c.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),B=["video","audio","picture","iframe","img"],q=["picture","img"],E=r.forwardRef(function(e,t){let n=(0,P.Z)({props:e,name:"MuiCardMedia"}),{children:r,className:o,component:a="div",image:l,src:d,style:u}=n,p=(0,s.Z)(n,R),m=-1!==B.indexOf(a),h=!m&&l?(0,c.Z)({backgroundImage:`url("${l}")`},u):u,g=(0,c.Z)({},n,{component:a,isMediaComponent:m,isImageComponent:-1!==q.indexOf(a)}),f=_(g);return(0,i.jsx)(I,(0,c.Z)({className:(0,M.Z)(f.root,o),as:a,role:!m&&l?"img":void 0,ref:t,style:h,ownerState:g,src:m?l||d:void 0},p,{children:r}))});var A=n(5861),F=n(3321),O=n(6154);class H{async request(e){let{body:t,endpoint:n,method:i,params:r}=e,o={baseURL:"http://localhost:".concat(this.port),data:t,headers:{"api-key":this.apiKey},method:i,params:r,url:"/api/".concat(n)};return await O.Z.request(o)}constructor(e,t){this.apiKey=t,this.port=e||9170}}var T=n(8980),$=function(){let e=(0,o.useRouter)(),{apiPort:t,apiKey:n,title:s,message:c,icon:l,image:d,actions:u}=e.query,p=(0,r.useMemo)(()=>{if(u)try{return JSON.parse(u)}catch(e){console.error(e)}return null},[u]),m=(0,a.Z)();return(0,i.jsx)(T.Z,{title:"Notification",url:"https://system-bridge.timmo.dev",description:"Frontend for System Bridge",closeButton:!0,noHeader:!0,children:(0,i.jsxs)(S,{direction:"column",alignContent:"center",justifyContent:"flex-start",style:{height:"100vh",width:"100%",overflow:"hidden"},children:[(0,i.jsxs)(S,{direction:"row",alignContent:"center",justifyContent:"flex-start",style:{padding:m.spacing(1,1,1)},children:[l&&(0,i.jsx)(E,{component:"img",image:l,alt:"Notification Icon",sx:{height:28,width:28,margin:m.spacing(.5,0,.5,1)}}),(0,i.jsx)(A.Z,{component:"h1",variant:"h5",sx:{margin:m.spacing(0,1)},children:s})]}),c&&(0,i.jsx)(A.Z,{component:"div",variant:"body2",color:"text.secondary",sx:{padding:m.spacing(0,l?7:2,1)},children:c}),d&&(0,i.jsx)(E,{component:"img",image:d,alt:"Notification Image",sx:{height:"280px",maxHeight:"280px",maxWidth:"100%",objectFit:"contain"}}),p&&(0,i.jsx)(S,{direction:"row",alignContent:"center",justifyContent:"flex-end",sx:{padding:m.spacing(1)},children:p.map(e=>(0,i.jsx)(F.Z,{variant:"contained",color:"primary",sx:{margin:m.spacing(1,.5,1,.5)},onClick:()=>(function(e){switch(console.log("Action clicked:",e),e.command){case"api":new H(Number(t)||9170,String(n)).request(e.data).then(e=>{console.log("API Response:",e.data)}).catch(e=>{console.error("API Error:",e)});break;case"close":window.location.href="http://close.window"}})(e),children:e.label},e.label))})]})})}}},function(e){e.O(0,[702,134,154,774,888,179],function(){return e(e.s=8973)}),_N_E=e.O()}]);