"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[4104],{2945:(e,t,i)=>{i.d(t,{d:()=>l});var r=i(50558),n=i(41508),s=i(55455),a=i(2666);const o=i(4147);class l extends n.JupyterFrontEnd{constructor(e){var t;if(super(Object.assign(Object.assign({},e),{shell:null!==(t=e.shell)&&void 0!==t?t:new a.h})),this.name="Voila",this.namespace=this.name,this.version=o.version,this._widgetManager=null,this._widgetManagerPromise=new r.PromiseDelegate,e.mimeExtensions)for(const t of(0,n.createRendermimePlugins)(e.mimeExtensions))this.registerPlugin(t)}get paths(){return{urls:{base:s.PageConfig.getOption("baseUrl"),notFound:s.PageConfig.getOption("notFoundUrl"),app:s.PageConfig.getOption("appUrl"),static:s.PageConfig.getOption("staticUrl"),settings:s.PageConfig.getOption("settingsUrl"),themes:s.PageConfig.getOption("themesUrl"),doc:s.PageConfig.getOption("docUrl"),translations:s.PageConfig.getOption("translationsApiUrl"),hubHost:s.PageConfig.getOption("hubHost")||void 0,hubPrefix:s.PageConfig.getOption("hubPrefix")||void 0,hubUser:s.PageConfig.getOption("hubUser")||void 0,hubServerName:s.PageConfig.getOption("hubServerName")||void 0},directories:{appSettings:s.PageConfig.getOption("appSettingsDir"),schemas:s.PageConfig.getOption("schemasDir"),static:s.PageConfig.getOption("staticDir"),templates:s.PageConfig.getOption("templatesDir"),themes:s.PageConfig.getOption("themesDir"),userSettings:s.PageConfig.getOption("userSettingsDir"),serverRoot:s.PageConfig.getOption("serverRoot"),workspaces:s.PageConfig.getOption("workspacesDir")}}}registerPluginModule(e){let t=e.default;Object.prototype.hasOwnProperty.call(e,"__esModule")||(t=e),Array.isArray(t)||(t=[t]),t.forEach((e=>{try{this.registerPlugin(e)}catch(e){console.error(e)}}))}registerPluginModules(e){e.forEach((e=>{this.registerPluginModule(e)}))}get widgetManagerPromise(){return this._widgetManagerPromise}set widgetManager(e){this._widgetManager=e,this._widgetManager&&this._widgetManagerPromise.resolve(this._widgetManager)}get widgetManager(){return this._widgetManager}}},24979:(e,t,i)=>{i.d(t,{z:()=>r});const r={id:"@voila-dashboards/voila:paths",activate:e=>e.paths,autoStart:!0,provides:i(41508).JupyterFrontEnd.IPaths}},25304:(e,t,i)=>{i.d(t,{p:()=>m,M:()=>p});var r=i(7181),n=i(41508),s=i(45494),a=i(4433),o=i(55455),l=i(32247),d=i(75324),u=i(53968);const h="JupyterLab Light";class g{constructor(e){this._current=null,this._links=[],this._overrides={},this._overrideProps={},this._outstanding=null,this._pending=0,this._requests={},this._themes={},this._themeChanged=new u.Signal(this),this._requestedTheme=h;const{host:t,url:i}=e;this.translator=e.translator||l.nullTranslator,this._trans=this.translator.load("jupyterlab"),this._base=i,this._host=t}get theme(){return this._current}get themes(){return Object.keys(this._themes)}get themeChanged(){return this._themeChanged}getCSS(e){var t;return null!==(t=this._overrides[e])&&void 0!==t?t:getComputedStyle(document.documentElement).getPropertyValue(`--jp-${e}`)}loadCSS(e){const t=this._base,i=o.URLExt.isLocal(e)?o.URLExt.join(t,e):e,r=this._links;return new Promise(((e,t)=>{const n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",i),n.addEventListener("load",(()=>{e(void 0)})),n.addEventListener("error",(()=>{t(`Stylesheet failed to load: ${i}`)})),document.body.appendChild(n),r.push(n),this.loadCSSOverrides()}))}loadCSSOverrides(){this._overrides={}}validateCSS(e,t){const i=this._overrideProps[e];return i?!!CSS.supports(i,t)||(console.warn(`CSS validation failed: invalid value.\nkey: '${e}', val: '${t}', prop: '${i}'`),!1):(console.warn(`CSS validation failed: could not find property corresponding to key.\nkey: '${e}', val: '${t}'`),!1)}register(e){const{name:t}=e,i=this._themes;if(i[t])throw new Error(`Theme already registered for ${t}`);return i[t]=e,this._themeChanged.emit({name:"",oldValue:null,newValue:""}),new d.DisposableDelegate((()=>{delete i[t]}))}async setTheme(e){this._requestedTheme=e,this._loadSettings()}isLight(e){return this._themes[e].isLight}themeScrollbars(e){return!1}getDisplayName(e){var t,i;return null!==(i=null===(t=this._themes[e])||void 0===t?void 0:t.displayName)&&void 0!==i?i:e}_loadSettings(){const e=this._outstanding,t=this._pending,i=this._requests;t&&(window.clearTimeout(t),this._pending=0);const r=this._themes,n=this._requestedTheme;if(e)return e.then((()=>{this._loadSettings()})).catch((()=>{this._loadSettings()})),void(this._outstanding=null);if(i[n]=i[n]?i[n]+1:1,r[n])return this._outstanding=this._loadTheme(n),void delete i[n];if(i[n]>20){const e=h;return delete i[n],r[e]?(console.warn(`Could not load theme ${n}, using default ${e}.`),void(this._outstanding=this._loadTheme(e))):void this._onError(this._trans.__("Neither theme %1 nor default %2 loaded.",n,e))}this._pending=window.setTimeout((()=>{this._loadSettings()}),75)}_loadTheme(e){const t=this._current,i=this._links,r=this._themes,n=new d.DisposableDelegate((()=>{}));i.forEach((e=>{e.parentElement&&e.parentElement.removeChild(e)})),i.length=0;const s=t?r[t].unload():Promise.resolve();return Promise.all([s,r[e].load()]).then((()=>{this._current=e,this._themeChanged.emit({name:"theme",oldValue:t,newValue:e}),this._host&&(this._host.hide(),requestAnimationFrame((()=>{this._host.show(),c.fitAll(this._host),n.dispose()})))})).catch((e=>{this._onError(e),n.dispose()}))}_onError(e){(0,s.showDialog)({title:this._trans.__("Error Loading Theme"),body:String(e),buttons:[s.Dialog.okButton({label:this._trans.__("OK")})]})}}var c;!function(e){e.fitAll=function e(t){for(const i of t.children())e(i);t.fit()}}(c||(c={}));const p={id:"@voila-dashboards/voila:theme-manager",description:"Provides the theme manager.",requires:[n.JupyterFrontEnd.IPaths],activate:(e,t)=>{const i=e.shell,r=o.URLExt.join(o.PageConfig.getBaseUrl(),t.urls.themes),n=new g({host:i,url:r});let s;return n.themeChanged.connect(((e,t)=>{s=t.newValue,s.length>0&&(document.body.dataset.jpThemeLight=String(n.isLight(s)),document.body.dataset.jpThemeName=s)})),n},autoStart:!0,provides:s.IThemeManager},m={id:"@voila-dashboards/voila:theme",autoStart:!0,optional:[s.IThemeManager],activate:async(e,t)=>{if(a.jupyterHighlightStyle.module&&r.StyleModule.mount(document,a.jupyterHighlightStyle.module),!t)return;const i=o.PageConfig.getOption("jupyterLabTheme")||"light";"dark"!==i&&"light"!==i&&await t.setTheme(i),window.themeLoaded=!0,window.cellLoaded&&window.voila_finish()}}},23061:(e,t,i)=>{i.d(t,{d:()=>n});var r=i(32247);const n={id:"@voila-dashboards/voila:translator",activate:e=>new r.TranslationManager,autoStart:!0,provides:r.ITranslator}},98905:(e,t,i)=>{i.d(t,{G:()=>g,y:()=>c});var r=i(55455),n=i(39003),s=i(78029),a=i(82094),o=i(24959),l=i(79814),d=i(2945),u=i(23190);const h="application/vnd.jupyter.widget-view+json",g={id:"@voila-dashboards/voila:widget-manager",autoStart:!0,requires:[n.IRenderMimeRegistry],provides:l.IJupyterWidgetRegistry,activate:async(e,t)=>{if(!(e instanceof d.d))throw Error("The Voila Widget Manager plugin must be activated in a VoilaApp");const i=r.PageConfig.getBaseUrl(),n=r.PageConfig.getOption("kernelId"),l=s.ServerConnection.makeSettings({baseUrl:i}),u=await s.KernelAPI.getKernelModel(n,l);if(!u)return{registerWidget(e){throw Error(`The model for kernel id ${n} does not exist`)}};const g=new a.KernelConnection({model:u,serverSettings:l}),c=new o.KernelWidgetManager(g,t);return e.widgetManager=c,t.removeMimeType(h),t.addFactory({safe:!1,mimeTypes:[h],createRenderer:e=>new o.WidgetRenderer(e,c)},-10),window.addEventListener("beforeunload",(e=>{const t=new FormData,r=document.cookie.match("\\b_xsrf=([^;]*)\\b"),n=r&&r[1]||"";t.append("_xsrf",n),window.navigator.sendBeacon(`${i}voila/api/shutdown/${g.id}`,t),g.dispose()})),{registerWidget:async t=>{(await e.widgetManagerPromise.promise).register(t)}}}},c={id:"@voila-dashboards/voila:render-outputs",autoStart:!0,requires:[n.IRenderMimeRegistry,l.IJupyterWidgetRegistry],activate:async(e,t)=>{document.body.querySelectorAll('script[type="application/vnd.voila.cell-output+json"]').forEach((async e=>{const i=JSON.parse(e.innerHTML),r=t.preferredMimeType(i.data,"any");if(!r)return null;const n=t.createRenderer(r);if(n.renderModel(i).catch((e=>{const t=document.createElement("pre");t.textContent=`Javascript Error: ${e.message}`,n.node.appendChild(t),t.className="lm-Widget jp-RenderedText",t.setAttribute("data-mime-type","application/vnd.jupyter.stderr")})),n.addClass("jp-OutputArea-output"),e.parentElement){const t=e.parentElement;t.removeChild(e),u.Widget.attach(n,t)}}))}}},94052:(e,t,i)=>{i.d(t,{K:()=>d});var r=i(78029);class n extends r.EventManager{constructor(e={}){super(e),this.dispose()}}var s=i(53968);class a extends r.BaseManager{constructor(){super(...arguments),this.userChanged=new s.Signal(this),this.connectionFailure=new s.Signal(this),this.identity=null,this.permissions=null}refreshUser(){return Promise.resolve()}get isReady(){return!0}get ready(){return Promise.resolve()}}class o extends r.BaseManager{constructor(){super(...arguments),this.specsChanged=new s.Signal(this),this.connectionFailure=new s.Signal(this),this.specs=null}refreshSpecs(){return Promise.resolve()}get isReady(){return!0}get ready(){return Promise.resolve()}}const l=()=>!0;class d extends r.ServiceManager{constructor(e){var t,i,r,s;super({standby:null!==(t=null==e?void 0:e.standby)&&void 0!==t?t:l,kernelspecs:null!==(i=null==e?void 0:e.kernelspecs)&&void 0!==i?i:new o({}),events:null!==(r=null==e?void 0:e.events)&&void 0!==r?r:new n,user:null!==(s=null==e?void 0:e.user)&&void 0!==s?s:new a({})})}}},2666:(e,t,i)=>{i.d(t,{h:()=>n});var r=i(23190);class n extends r.Widget{constructor(){super(),this.id="main"}activateById(e){}add(e,t,i){}get currentWidget(){return null}widgets(e){return[][Symbol.iterator]()}}},35978:(e,t,i)=>{i.d(t,{gA:()=>a,l6:()=>s,yC:()=>n});var r=i(55455);async function n(e,t){await function(e){return new Promise(((t,i)=>{const r=document.createElement("script");r.onerror=i,r.onload=t,r.async=!0,document.head.appendChild(r),r.src=e}))}(e),await i.I("default");const r=window._JUPYTERLAB[t];await r.init(i.S.default)}async function s(e,t){try{return(await window._JUPYTERLAB[e].get(t))()}catch(i){throw console.warn(`Failed to create module: package: ${e}; module: ${t}`),i}}function*a(e,t){let i;i=Object.prototype.hasOwnProperty.call(e,"__esModule")?e.default:e;const n=Array.isArray(i)?i:[i];for(const e of n)r.PageConfig.Extension.isDisabled(e.id)||t.includes(e.id)||t.includes(e.id.split(":")[0])||(yield e)}},4147:e=>{e.exports=JSON.parse('{"name":"@voila-dashboards/voila","version":"0.5.0-beta.0","description":"The Voilà Frontend","author":"Voilà contributors","license":"BSD-3-Clause","main":"lib/index.js","browserslist":">0.8%, not ie 11, not op_mini all, not dead","dependencies":{"@jupyter-widgets/base":"^6.0.5","@jupyter-widgets/jupyterlab-manager":"^5.0.8","@jupyterlab/application":"^4.0.0","@jupyterlab/apputils":"^4.0.0","@jupyterlab/apputils-extension":"^4.0.0","@jupyterlab/codemirror":"^4.0.3","@jupyterlab/codemirror-extension":"^4.0.0","@jupyterlab/coreutils":"^6.0.0","@jupyterlab/docregistry":"^4.0.0","@jupyterlab/javascript-extension":"^4.0.0","@jupyterlab/json-extension":"^4.0.0","@jupyterlab/logconsole":"^4.0.0","@jupyterlab/mainmenu":"^4.0.0","@jupyterlab/markdownviewer-extension":"^4.0.0","@jupyterlab/markedparser-extension":"^4.0.0","@jupyterlab/mathjax2-extension":"^4.0.0-alpha.21","@jupyterlab/nbformat":"^4.0.0","@jupyterlab/notebook":"^4.0.0","@jupyterlab/outputarea":"^4.0.0","@jupyterlab/rendermime":"^4.0.0","@jupyterlab/rendermime-extension":"^4.0.0","@jupyterlab/services":"^7.0.0","@jupyterlab/settingregistry":"^4.0.0","@jupyterlab/theme-dark-extension":"^4.0.2","@jupyterlab/theme-light-extension":"^4.0.2","@jupyterlab/translation":"^4.0.0","@jupyterlab/ui-components":"^4.0.0","@jupyterlab/vega5-extension":"^4.0.0","@lumino/algorithm":"^2.0.0","@lumino/commands":"^2.0.0","@lumino/coreutils":"^2.0.0","@lumino/datagrid":"^2.1.2","@lumino/disposable":"^2.0.0","@lumino/domutils":"^2.0.0","@lumino/dragdrop":"^2.0.0","@lumino/messaging":"^2.0.0","@lumino/properties":"^2.0.0","@lumino/signaling":"^2.0.0","@lumino/virtualdom":"^2.0.0","@lumino/widgets":"^2.0.0","react":"^18.2.0","react-dom":"^18.2.0","style-mod":"^4.0.3"},"devDependencies":{"@jupyterlab/builder":"^4.0.0","@types/node":"~18.8.3","css-loader":"^6.7.2","fs-extra":"^9.1.0","glob":"~7.1.6","npm-run-all":"^4.1.5","p-limit":"^2.2.2","rimraf":"^3.0.2","style-loader":"~3.3.1","tsc-watch":"^6.0.0","typescript":"~5.0.2","watch":"^1.0.2","webpack":"^5.24.1","webpack-bundle-analyzer":"^4.4.0","webpack-cli":"^4.5.0","webpack-merge":"^5.7.3","whatwg-fetch":"^3.0.0"},"scripts":{"build":"npm run build:lib && webpack --mode=development","build:lib":"tsc","build:prod":"npm run build:lib && webpack --mode=production","clean":"jlpm run clean:lib && jlpm run clean:asset && rimraf build","clean:lib":"rimraf lib tsconfig.tsbuildinfo","clean:asset":"rimraf ../../share/jupyter/voila/schemas ../../share/jupyter/voila/themes ../../share/jupyter/voila/style.js","test":"echo \\"Error: no test specified\\" && exit 1","watch":"tsc-watch --onSuccess \\"webpack --mode=development\\"","watch:lib":"tsc -w","watch:bundle":"webpack --watch --mode=development"}}')}}]);