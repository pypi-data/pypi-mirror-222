(this.webpackJsonpstreamlit_component_template=this.webpackJsonpstreamlit_component_template||[]).push([[0],{486:function(e,t,n){},487:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=487},739:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(58),c=n.n(a),s=n(132),o=n(24),l=n(12),d=n(439),h=n(838),u=n(845),j=function(e){return e.UNKNOWN="Unknown",e.BICYCLE="Bicycle",e.PEDESTRIAN="Pedestrian",e.LIGHT_VEHICLE="Light vehicle",e.HEAVY_VEHICLE="Heavy vehicle",e}({}),f=Object.values(j);function b(e){return Object.values(j).includes(e)}function g(e){switch(e){case j.UNKNOWN:return"green";case j.BICYCLE:return"purple";case j.PEDESTRIAN:return"red";case j.LIGHT_VEHICLE:return"cyan";case j.HEAVY_VEHICLE:return"pink"}}var m=n(48),x=n.n(m),O=n(194),p=n(49),v=n(14),y=n(7),k=n(8),w=n(4),L=n(5),T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(w.a)(this,e),this._pos=void 0,this._pos=[t,n,r]}return Object(L.a)(e,[{key:"x",get:function(){return this._pos[0]},set:function(e){this._pos[0]=e}},{key:"y",get:function(){return this._pos[1]},set:function(e){this._pos[1]=e}},{key:"z",get:function(){return this._pos[2]},set:function(e){this._pos[2]=e}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z}},{key:"distanceTo",value:function(e){return Math.sqrt(Math.pow(e.x-this.x,2)+Math.pow(e.y-this.y,2)+Math.pow(e.z-this.z,2))}}],[{key:"cross",value:function(t,n){return new e(t.y*n.z-t.z*n.y,t.z*n.x-t.x*n.z,t.x*n.y-t.y*n.x)}}]),e}(),C=function(e){Object(y.a)(n,e);var t=Object(k.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return Object(w.a)(this,n),(e=t.call(this,r,i,a))._angles=void 0,e._angles=[c,s,o],e}return Object(L.a)(n,[{key:"yaw",get:function(){return this._angles[0]},set:function(e){this._angles[0]=e}},{key:"pitch",get:function(){return this._angles[1]},set:function(e){this._angles[1]=e}},{key:"roll",get:function(){return this._angles[2]},set:function(e){this._angles[2]=e}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z&&this.yaw===e.yaw&&this.pitch===e.pitch&&this.roll===e.roll}}]),n}(T);n(486),n(40);function F(){var e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];return e[0][0]=1,e[1][1]=1,e[2][2]=1,e[3][3]=1,e}function I(e,t){for(var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],r=0;r<4;r++)for(var i=0;i<4;i++)n[r][i]=e[r][0]*t[0][i]+e[r][1]*t[1][i]+e[r][2]*t[2][i]+e[r][3]*t[3][i];return n}function M(e,t){var n=new T;return n.x=e[0][0]*t.x+e[0][1]*t.y+e[0][2]*t.z+e[0][3],n.y=e[1][0]*t.x+e[1][1]*t.y+e[1][2]*t.z+e[1][3],n.z=e[2][0]*t.x+e[2][1]*t.y+e[2][2]*t.z+e[2][3],n}function E(e,t){var n=Math.cos(t),r=Math.sin(t),i=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];return i[0][0]=1,i[1][1]=n,i[1][2]=-r,i[2][1]=r,i[2][2]=n,i[3][3]=1,I(i,e)}function N(e,t){var n=Math.cos(t),r=Math.sin(t),i=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];return i[0][0]=n,i[0][2]=r,i[1][1]=1,i[2][0]=-r,i[2][2]=n,i[3][3]=1,I(i,e)}function S(e,t){var n=Math.cos(t),r=Math.sin(t),i=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];return i[0][0]=n,i[0][1]=-r,i[1][0]=r,i[1][1]=n,i[2][2]=1,i[3][3]=1,I(i,e)}function W(e,t,n,r){return e=E(e=N(e=S(e,t),n),r)}function H(e,t,n,r){var i=JSON.parse(JSON.stringify(e));return i[0][0]+=e[3][0]*t,i[0][1]+=e[3][1]*t,i[0][2]+=e[3][2]*t,i[0][3]+=e[3][3]*t,i[1][0]+=e[3][0]*n,i[1][1]+=e[3][1]*n,i[1][2]+=e[3][2]*n,i[1][3]+=e[3][3]*n,i[2][0]+=e[3][0]*r,i[2][1]+=e[3][1]*r,i[2][2]+=e[3][2]*r,i[2][3]+=e[3][3]*r,i}function _(e,t,n,r){var i=JSON.parse(JSON.stringify(e));return i[0][0]*=t,i[0][1]*=t,i[0][2]*=t,i[0][3]*=t,i[1][0]*=n,i[1][1]*=n,i[1][2]*=n,i[1][3]*=n,i[2][0]*=r,i[2][1]*=r,i[2][2]*=r,i[2][3]*=r,i}function R(e,t,n,r){return[(r=M(D(e,t,n),r)).x,r.y]}function D(e,t,n){var r=F();return r=H(r,-e.pos.x,-e.pos.y,-e.pos.z),r=H(r=_(r=W(r,-e.pos.yaw,-e.pos.pitch,-e.pos.roll),t/e.width,n/e.height,1),.5*t-.5,.5*n-.5,0)}var V=n(2),P=function(e){var t=e.WIDTH,n=e.HEIGHT,i=e.scale,a=e.tracks,c=e.ground,s=e.showId,o=e.filters;return Object(V.jsx)("svg",{width:t,height:n,style:{transform:"scale(".concat(i,")"),transformOrigin:"top left",overflow:"visible"},children:Object(r.useMemo)((function(){return a.map((function(e){var r=g(e.type),i=R(c,t,n,e.startPos()),a=Object(l.a)(i,2),d=a[0],h=a[1],u=R(c,t,n,e.endPos()),j=Object(l.a)(u,2),f=j[0],b=j[1];return Object(V.jsxs)("g",{children:[Object(V.jsx)("path",{d:e.pathString(c,t,n,o.onlyConfirmed,o.markMeasurements,o.markEstimated),stroke:r||"black",fill:"none"}),Object(V.jsx)("circle",{cx:d,cy:h,r:4,fill:"green",strokeWidth:"4"}),Object(V.jsx)("circle",{cx:f,cy:b,r:4,fill:"red",strokeWidth:"4"}),s&&Object(V.jsx)("text",{x:f,y:b,fill:"white",fontFamily:"sans-serif",fontSize:10,children:e.id})]},e.id)}))}),[a,c,s,n,t,o])})},z=n(408),B=n.n(z),Y=n(834),A=n(230),G=n(852),K=n(853),U=n(835),J=n(840),q=function(e){var t=e.filters,n=e.onMarkMeasurements,r=e.onMarkEstimated,i=e.onMarkOnlyConfirmed,a=e.onMarkTrackId;return Object(V.jsx)(G.a,{sx:{margin:0,marginLeft:2},component:"fieldset",variant:"standard",children:Object(V.jsxs)(K.a,{row:!0,children:[Object(V.jsxs)(K.a,{children:[Object(V.jsx)(U.a,{control:Object(V.jsx)(J.a,{checked:t.markMeasurements,onChange:n}),label:Object(V.jsx)(A.a,{fontWeight:600,children:"Mark measurements"})}),Object(V.jsx)(U.a,{control:Object(V.jsx)(J.a,{checked:t.markEstimated,onChange:r}),label:Object(V.jsx)(A.a,{fontWeight:600,children:"Mark estimated"})})]}),Object(V.jsxs)(K.a,{children:[Object(V.jsx)(U.a,{control:Object(V.jsx)(J.a,{checked:t.onlyConfirmed,onChange:i}),label:Object(V.jsx)(A.a,{fontWeight:600,children:"Show only confirmed"})}),Object(V.jsx)(U.a,{control:Object(V.jsx)(J.a,{checked:t.trackId,onChange:a}),label:Object(V.jsx)(A.a,{fontWeight:600,children:"Show track id"})})]})]})})},Q=n(854),X=n(855),Z=n(844),$=n(832),ee=n(859),te=n(820),ne=n(843),re=n(809),ie=n(810),ae=n(811),ce=function(e){var t=e.tracks,n=e.selectedTracks,r=e.onTrackSelect;return Object(V.jsxs)(V.Fragment,{children:[0!==t.length&&Object(V.jsxs)(ne.a,{children:[Object(V.jsx)(re.a,{sx:{visibility:"hidden"},children:Object(V.jsx)(J.a,{edge:"start",tabIndex:-1,disableRipple:!0})}),Object(V.jsx)(A.a,{fontWeight:500,sx:{width:"33.3%"},children:"Id"}),Object(V.jsx)(A.a,{fontWeight:500,sx:{width:"33.3%"},children:"Length"}),Object(V.jsx)(A.a,{fontWeight:500,sx:{width:"33.3%"},children:"Type"})]}),t.map((function(e){return Object(V.jsxs)(ie.a,{onClick:function(t){return r(t,e)},children:[Object(V.jsx)(re.a,{children:Object(V.jsx)(J.a,{edge:"start",checked:n.has(e.id),tabIndex:-1,disableRipple:!0})}),Object(V.jsx)(ae.a,{style:{width:"33.3%"},primary:e.id}),Object(V.jsx)(ae.a,{style:{width:"33.3%"},primary:Math.round(1e4*(e.length()+Number.EPSILON))/1e4}),Object(V.jsx)(ae.a,{style:{width:"33.3%"},primary:e.type})]},e.id)}))]})},se=function(e){var t=e.tracks,n=e.switchLeftLabel,i=e.switchRightLabel,a=e.selectedTracks,c=e.onSwitch,s=e.onTrackSelect,o=["Id","Length","Type"],d=Object(r.useState)(o[0]),h=Object(l.a)(d,2),u=h[0],j=h[1];function b(e,t){return e.id-t.id}function g(e,t){return e.length()-t.length()}function m(e,t){return f.indexOf(e.type)-f.indexOf(t.type)}return Object(V.jsx)("div",{style:{marginTop:10,width:"100%"},children:Object(V.jsxs)(Q.a,{sx:{bgcolor:"background.paper",position:"relative",overflow:"auto",borderRadius:1,maxHeight:"100%"},dense:!0,subheader:Object(V.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginRight:20,marginLeft:20,minHeight:60},children:[Object(V.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(V.jsx)(A.a,{fontWeight:600,children:n}),Object(V.jsx)(X.a,{onChange:c}),Object(V.jsx)(A.a,{fontWeight:600,children:i})]}),Object(V.jsxs)(G.a,{children:[Object(V.jsx)(Z.a,{id:"demo-simple-select-label",children:Object(V.jsx)(A.a,{fontWeight:600,children:"Filter on"})}),Object(V.jsx)($.a,{sx:{height:40,width:100},labelId:"demo-simple-select-label",id:"demo-simple-select",value:u,label:Object(V.jsx)(A.a,{fontWeight:600,children:"Filter on"}),onChange:function(e){var t;t=e.target.value,o.includes(t)&&j(e.target.value)},children:o.map((function(e,t){return Object(V.jsx)(ee.a,{value:e,children:e},t)}))})]})]}),component:"nav","aria-label":"tracks list",children:[Object(V.jsx)(te.a,{sx:{borderBottomWidth:3}}),Object(V.jsx)(ce,{tracks:function(e,t){return e.sort(function(e){switch(e){case"Id":default:return b;case"Length":return g;case"Type":return m}}(t))}(t,u),selectedTracks:a,onTrackSelect:s})]})})},oe=n(841),le=n(860),de=n(861),he=n(864),ue=n(821),je=n(822),fe=n(427),be=n(67),ge=n(428),me=n(166),xe=n(208),Oe=function(e){var t=e.tracks,n=e.height,r=t.sort((function(e,t){return e.length()-t.length()})).reduce((function(e,t){var n=Math.round(t.length()),r=e.findIndex((function(e){return n===e.length}));return-1!==r?e[r].nbr+=1:e.push({length:n,nbr:1}),e}),[]);return Object(V.jsx)(he.a,{width:"100%",height:n,children:Object(V.jsxs)(ue.a,{data:r,margin:{top:0,right:5,left:.04*-window.innerWidth,bottom:20},barSize:5,children:[Object(V.jsx)(je.a,{}),Object(V.jsx)(fe.a,{dataKey:"length",type:"number",domain:["dataMin","dataMax"],fontFamily:"sans-serif",children:Object(V.jsx)(be.a,{fontFamily:"sans-serif",value:"Length (m)",offset:-8,position:"insideBottom"})}),Object(V.jsx)(ge.a,{type:"number",domain:[0,"dataMax"],fontFamily:"sans-serif"}),Object(V.jsx)(me.a,{content:pe}),Object(V.jsx)(xe.a,{dataKey:"nbr",fill:"#ff4b4b"})]})})},pe=function(e){var t=e.active,n=e.payload,r=e.label;return t&&n&&n.length?Object(V.jsxs)("div",{className:"custom-tooltip",style:{borderRadius:5,backgroundColor:"#1d1e25",borderColor:"#FFFFFF",paddingLeft:10,paddingRight:10,paddingTop:1,paddingBottom:1,border:"1px solid #FFF4F4"},children:[Object(V.jsx)("p",{className:"lengt-label",style:{fontFamily:"sans-serif"},children:"Length: ".concat(r)}),Object(V.jsx)("p",{className:"nbr-label",style:{fontFamily:"sans-serif"},children:"Tracks: ".concat(n[0].value)})]}):null},ve=n(433),ye=n.n(ve),ke=n(847),we=n(429),Le=n(211),Te=function(e){var t=e.tracks,n=e.height,r=t.reduce((function(e,t){var n=e.findIndex((function(e){return e.type===t.type}));return e[n].occurences++,e}),[{type:j.UNKNOWN,occurences:0},{type:j.BICYCLE,occurences:0},{type:j.PEDESTRIAN,occurences:0},{type:j.LIGHT_VEHICLE,occurences:0},{type:j.HEAVY_VEHICLE,occurences:0}]);return Object(V.jsxs)("div",{children:[Object(V.jsx)(he.a,{width:"100%",height:n,children:Object(V.jsx)(ke.a,{children:Object(V.jsx)(we.a,{data:r,dataKey:"occurences",nameKey:"type",label:Ce,labelLine:!1,children:r.map((function(e,t){return Object(V.jsx)(Le.a,{fill:g(e.type)},"cell-".concat(t))}))})})}),Object(V.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},children:Object.values(j).map((function(e){return 0===r[r.findIndex((function(t){return t.type===e}))].occurences?null:Fe(e,g(e))}))})]})},Ce=function(e){var t=e.occurences,n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,c=e.midAngle,s=e.percent,o=Math.PI/180,l=i+.5*(a-i),d=n+l*Math.cos(-c*o),h=r+l*Math.sin(-c*o);return 0!==t?Object(V.jsx)("text",{x:d,y:h,fill:"white",textAnchor:"center",dominantBaseline:"central",style:{fontFamily:"sans-serif",color:"#FFFFFF"},children:"".concat((100*s).toFixed(0),"%")}):null},Fe=function(e,t){return Object(V.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",margin:5},children:[Object(V.jsx)("div",{style:{backgroundColor:t,marginRight:3,width:10,height:10,border:"1px solid #FFFFFF"}}),Object(V.jsx)("text",{style:{fontFamily:"sans-serif",color:"#FFFFFF"},children:e})]})},Ie=function(e){var t=e.tracks,n=e.height;return Object(V.jsxs)(oe.a,{children:[Object(V.jsx)(le.a,{expandIcon:Object(V.jsx)(ye.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(V.jsx)(A.a,{fontWeight:600,children:"Show histograms"})}),Object(V.jsxs)(de.a,{sx:{maxHeight:n},children:[Object(V.jsx)("h5",{style:{fontFamily:"sans-serif",color:"#FFFFFF",marginTop:0},children:"Length histogram"}),Object(V.jsx)(Oe,{height:.4*n,tracks:t}),Object(V.jsx)("h5",{style:{fontFamily:"sans-serif",color:"#FFFFFF",marginTop:0},children:"Type distribution"}),Object(V.jsx)(Te,{height:.3*n,tracks:t})]})]})},Me=function(e){var t=e.label,n=e.plotterWidth,i=e.image,a=e.imageWidth,c=e.imageHeight,s=e.tracks,d=e.ground,h=Object(r.useState)(Math.round(100*(n/a+Number.EPSILON))/100),j=Object(l.a)(h,2),f=j[0],b=j[1],g=c*Math.round(100*(n/a+Number.EPSILON))/100,m=Object(r.useState)({markMeasurements:!1,markEstimated:!1,onlyConfirmed:!1,trackId:!1,showLines:!1,filterSelected:!1}),x=Object(l.a)(m,2),O=x[0],p=x[1],y=Object(r.useState)(new Set),k=Object(l.a)(y,2),w=k[0],L=k[1],T=Object(r.useState)(!0),C=Object(l.a)(T,2),F=C[0],I=C[1],M=function(){return s.filter((function(e){return O.filterSelected===w.has(e.id)}))};return Object(V.jsxs)("div",{style:{width:n,minWidth:window.innerWidth/3-10},children:[Object(V.jsxs)("div",{children:[Object(V.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:10},children:[Object(V.jsxs)(u.a,{onClick:function(){return I((function(e){return!e}))},sx:{marginRight:1},variant:"text",children:["Version ",t]}),F&&Object(V.jsx)(Y.a,{value:f,"aria-label":"Default",valueLabelDisplay:"auto",onChange:function(e,t){"number"===typeof t&&b(t)},min:0,max:4,step:.01,color:"primary",className:"slider",style:{width:300,margin:0}})]}),F&&Object(V.jsx)(q,{filters:O,onMarkMeasurements:function(e){p((function(t){return Object(o.a)(Object(o.a)({},t),{},{markMeasurements:e.target.checked})}))},onMarkEstimated:function(e){p((function(t){return Object(o.a)(Object(o.a)({},t),{},{markEstimated:e.target.checked})}))},onMarkOnlyConfirmed:function(e){p((function(t){return Object(o.a)(Object(o.a)({},t),{},{onlyConfirmed:e.target.checked})}))},onMarkTrackId:function(e){p((function(t){return Object(o.a)(Object(o.a)({},t),{},{trackId:e.target.checked})}))}})]}),Object(V.jsx)("div",{style:{overflow:"hidden",height:c*f,maxHeight:g},children:Object(V.jsx)(B.a,{children:Object(V.jsx)("div",{className:"image-container",style:{width:a*f,height:c*f,backgroundImage:"url(".concat(i,")")},children:Object(V.jsx)(P,{tracks:M(),WIDTH:a,HEIGHT:c,scale:f,showId:O.trackId,ground:d,filters:O})})})}),Object(V.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:"100%",maxHeight:.8*g},children:[Object(V.jsx)(se,{tracks:Object(v.a)(s),switchLeftLabel:"Hide",switchRightLabel:"Show",selectedTracks:w,onSwitch:function(e){p((function(t){return Object(o.a)(Object(o.a)({},t),{},{filterSelected:e.target.checked})}))},onTrackSelect:function(e,t){w.has(t.id)?L((function(e){return e.delete(t.id),new Set(e)})):L((function(e){return e.add(t.id),new Set(e)}))}}),Object(V.jsxs)("div",{style:{marginLeft:10,marginTop:10,width:"50%",maxWidth:400},children:[Object(V.jsxs)(A.a,{fontWeight:600,sx:{marginBottom:1},children:["Number of tracks: ",s.length]}),0!==s.length&&Object(V.jsx)(Ie,{height:700,tracks:M()})]})]})]})},Ee=function(){function e(t,n,r,i,a,c){Object(w.a)(this,e),this.id=void 0,this.startTime=void 0,this.endTime=void 0,this.coordinates=void 0,this.estimated=void 0,this.type=void 0,this.id=t,this.startTime=x()(n),this.endTime=x()(r),this.coordinates=i[0].map((function(e,t){return new T(e,i[1][t],0)})),this.estimated=a.map((function(e){return 1===e})),this.type=function(e){switch(e){case 0:default:return j.UNKNOWN;case 1:return j.BICYCLE;case 4:return j.PEDESTRIAN;case 18:return j.LIGHT_VEHICLE;case 34:return j.HEAVY_VEHICLE}}(c)}return Object(L.a)(e,[{key:"getEstimated",value:function(){var e=this;return this.coordinates.filter((function(t,n){return e.estimated[n]}))}},{key:"getConfirmed",value:function(){var e=this;return this.coordinates.filter((function(t,n){return!e.estimated[n]}))}},{key:"toGround",value:function(e,t,n){return this.coordinates.map((function(r){return R(e,t,n,r)}))}},{key:"startPos",value:function(){return this.coordinates[0]}},{key:"endPos",value:function(){return this.coordinates[this.coordinates.length-1]}},{key:"length",value:function(){return this.startPos().distanceTo(this.endPos())}},{key:"pathString",value:function(e,t,n,r,i,a){var c=this,s=R(e,t,n,this.startPos()),o=Object(l.a)(s,2),d=o[0],h=o[1],u="M ".concat(d," ").concat(h," "),j=this.toGround(e,t,n);return j.forEach((function(e,t){var n=Object(l.a)(e,2),s=n[0],o=n[1],d=c.estimated[t];if((!r||!d)&&(u+="L ".concat(s," ").concat(o," "),0!==t&&(i&&!d||a&&d))){var h=d?3:6,f=Object(l.a)(j[t-1],2),b=f[0],g=f[1],m=Math.sqrt(Math.pow(b-s,2)+Math.pow(g-o,2)),x=0===m?1:m,O=[(o-g)/x,(b-s)/x],p=.707,v=O[0]*p-O[1]*p,y=O[0]*p+O[1]*p;u+="L ".concat(s+v*h," ").concat(o+y*h," L ").concat(s," ").concat(o," L ").concat(s-y*h," ").concat(o+v*h," L ").concat(s," ").concat(o," ")}})),u}}]),e}(),Ne=function(e){var t=e.fromTime,n=e.toTime,r=e.showType,i=e.showVersions,a=e.filterLength,c=Object(s.useRenderData)(),o=c.args.images,l=c.args.shapes,d=c.args.grounds,h=c.args.names,u=d.map((function(e){return{pos:Object(p.a)(C,Object(v.a)(e[0])),height:e[1],width:e[2]}})),j=c.args.tracks,f=j.map((function(e){return e.map((function(e){return Object(p.a)(Ee,Object(v.a)(e))})).filter((function(e){return function(e,t,n,r,i){return!e.startTime.isBefore(t)&&!e.endTime.isAfter(n)&&!!r.includes(e.type)&&(!i.filter||!(e.length()<i.minLength||e.length()>i.maxLength))}(e,t,n,r,a)}))})),b=i.length<=1?1:i.length%3===0?3:i.length%2===0?2:3;console.log(b,i);var g=f.map((function(e,t){return Object(V.jsx)("div",{style:{margin:5},children:Object(V.jsx)(Me,{image:o[t],plotterWidth:window.innerWidth/b-10,imageHeight:l[t][0],imageWidth:l[t][1],tracks:e,label:h[t],ground:u[t]},o[t])})}));return Object(V.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},children:[g.map((function(e,t){return-1===i.indexOf(h[t])?null:e})),Object(V.jsx)("div",{style:{height:1e4}})]})},Se=n(846),We=n(434),He=n(830),_e=n(831),Re=n(824),De=function(e){var t=e.data,n=e.changeDate,r=e.changeTime,i=e.changeInterval;return Object(V.jsxs)(We.a,{dateAdapter:Re.a,children:[Object(V.jsx)(He.a,{label:Object(V.jsx)(A.a,{fontWeight:600,children:"Date"}),format:"YYYY-MM-DD",value:t.date,onChange:n,sx:{backgroundColor:"background.default",borderRadius:1,marginRight:2,width:200}}),Object(V.jsx)(_e.a,{label:Object(V.jsx)(A.a,{fontWeight:600,children:"From time"}),value:t.fromTime,onChange:r,ampm:!1,sx:{backgroundColor:"background.default",borderRadius:1,marginRight:2,width:200}}),Object(V.jsx)(Se.a,{label:Object(V.jsx)(A.a,{fontWeight:600,children:"Interval in minutes"}),id:"outlined-start-adornment",sx:{width:200,backgroundColor:"background.default",borderRadius:1,margin:0},value:t.interval,onChange:i})]})},Ve=function(e){var t=e.data,n=e.checkFilterBox,r=e.changeMinLength,i=e.changeMaxLength;return Object(V.jsxs)("div",{children:[Object(V.jsx)(U.a,{control:Object(V.jsx)(J.a,{checked:t.filterLength.filter,onChange:n}),label:Object(V.jsx)(A.a,{fontWeight:600,children:"Filter length"}),style:{margin:0,marginTop:10,fontWeight:500}}),t.filterLength.filter&&Object(V.jsxs)("div",{style:{marginTop:10},children:[Object(V.jsx)(Se.a,{label:Object(V.jsx)(A.a,{fontWeight:600,children:"Min length"}),id:"outlined-start-adornment",sx:{m:1,width:"25ch",backgroundColor:"background.default",borderRadius:1,margin:0,marginRight:2},value:t.filterLength.minLength,onChange:r}),Object(V.jsx)(Se.a,{label:Object(V.jsx)(A.a,{fontWeight:600,children:"Max length"}),id:"outlined-start-adornment",sx:{m:1,width:"25ch",backgroundColor:"background.default",borderRadius:1,margin:0,marginRight:2},value:t.filterLength.maxLength,onChange:i})]})]})},Pe=n(848),ze=function(e){var t=e.title,n=e.value,r=e.labels,i=e.checked,a=e.handleChange,c={PaperProps:{style:{maxHeight:224,width:250}}};return Object(V.jsxs)(G.a,{sx:{m:1,width:300,margin:0,marginLeft:2},children:[Object(V.jsx)(Z.a,{id:"demo-multiple-name-label",children:Object(V.jsx)(A.a,{fontWeight:600,children:t})}),Object(V.jsx)($.a,{labelId:"demo-multiple-name-label",id:"demo-multiple-name",multiple:!0,value:n,onChange:a,input:Object(V.jsx)(Pe.a,{label:t}),renderValue:function(e){return e.join(", ")},MenuProps:c,sx:{backgroundColor:"background.default"},children:r.map((function(e,t){return Object(V.jsxs)(ee.a,{value:e,children:[Object(V.jsx)(J.a,{checked:i(e)}),Object(V.jsx)(ae.a,{primary:e})]},t)}))})]})},Be=function(){var e=Object(s.useRenderData)(),t=e.args.names,n=x()(e.args.date),i={date:n,fromTime:n,interval:0,showType:Object.values(j),showVersions:t,filterLength:{filter:!1,minLength:0,maxLength:100}},a=Object(r.useState)(i),c=Object(l.a)(a,2),f=c[0],g=c[1],m=e.theme,p=Object(d.a)({palette:{primary:{main:null===m||void 0===m?void 0:m.primaryColor},common:{black:null===m||void 0===m?void 0:m.base},text:{primary:null===m||void 0===m?void 0:m.textColor,secondary:null===m||void 0===m?void 0:m.textColor},action:{active:"#fff"},background:{default:null===m||void 0===m?void 0:m.secondaryBackgroundColor,paper:null===m||void 0===m?void 0:m.secondaryBackgroundColor}}});Object(r.useEffect)((function(){f.date.isValid()&&O.Streamlit.setComponentValue(f.date.format("YYYY-MM-DD"))}),[f.date]);return Object(V.jsx)(h.a,{theme:p,children:Object(V.jsxs)("div",{style:{marginTop:30},children:[Object(V.jsx)(De,{data:f,changeDate:function(e){x.a.isDayjs(e)&&g((function(t){return t.date=e,Object(o.a)({},t)}))},changeTime:function(e){x.a.isDayjs(e)&&g((function(t){return t.fromTime=e,Object(o.a)({},t)}))},changeInterval:function(e){var t=Number(e.target.value);isNaN(t)||g((function(e){return e.interval=t,Object(o.a)({},e)}))}}),Object(V.jsx)(ze,{title:"Show versions",value:f.showVersions,labels:t,checked:function(e){return-1!==f.showVersions.indexOf(e)},handleChange:function(e){var n=e.target.value;g((function(e){return e.showVersions="string"===typeof n?n.split(""):n.sort((function(e,n){return t.indexOf(e)-t.indexOf(n)})),Object(o.a)({},e)}))}}),Object(V.jsx)(ze,{title:"Show types",value:f.showType,labels:Object.values(j),checked:function(e){return b(e)&&-1!==f.showType.indexOf(e)},handleChange:function(e){var t=e.target.value;g((function(e){return e.showType="string"===typeof t?function(e){return b(e)?[e]:[]}(t):t,Object(o.a)({},e)}))}}),Object(V.jsx)(Ve,{data:f,checkFilterBox:function(e){g((function(t){return t.filterLength.filter=e.target.checked,Object(o.a)({},t)}))},changeMinLength:function(e){var t=Number(e.target.value);isNaN(t)||g((function(e){return e.filterLength.minLength=t,Object(o.a)({},e)}))},changeMaxLength:function(e){var t=Number(e.target.value);isNaN(t)||g((function(e){return e.filterLength.maxLength=t,Object(o.a)({},e)}))}}),Object(V.jsxs)("div",{style:{margin:0,marginTop:10},children:[Object(V.jsx)(u.a,{sx:{marginRight:2,backgroundColor:"background.default"},onClick:function(){g((function(e){return e.fromTime=e.fromTime.subtract(e.interval,"minutes"),Object(o.a)({},e)}))},children:"<"}),Object(V.jsx)(u.a,{sx:{marginRight:2,backgroundColor:"background.default"},onClick:function(){g((function(e){return e.fromTime=e.fromTime.add(e.interval,"minutes"),Object(o.a)({},e)}))},children:">"})]}),Object(V.jsx)(Ne,{fromTime:f.fromTime,toTime:f.fromTime.add(f.interval,"minutes"),showType:f.showType,showVersions:f.showVersions,filterLength:f.filterLength})]})})};console.warn=function(){},c.a.render(Object(V.jsx)(i.a.StrictMode,{children:Object(V.jsx)(s.StreamlitProvider,{children:Object(V.jsx)(Be,{})})}),document.getElementById("root"))}},[[739,1,2]]]);
//# sourceMappingURL=main.9bbc904e.chunk.js.map