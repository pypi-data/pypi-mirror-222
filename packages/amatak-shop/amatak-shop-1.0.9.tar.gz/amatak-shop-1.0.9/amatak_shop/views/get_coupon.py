"""
Amatak Online Shop
CopyrightÂ© Amatak Holdings Pty Ltd licensed under the MIT Agreement.
If you interesting to be part of this project pleaese contact:
Rony MAN <amatak.io@outlook.com>
for business <www.amatak.io>
OpenSource <www.amatak.org>
"""
from django.core.exceptions import ObjectDoesNotExist
from amatak_shop.models.coupon import Coupon
from django.contrib import messages
from django.shortcuts import redirect


def get_coupon(request, code):
    try:
        coupon = Coupon.objects.get(code=code)
        return coupon
    except ObjectDoesNotExist:
        messages.info(request, "This coupon does not exist")
        return redirect("amatak_shop:checkout")