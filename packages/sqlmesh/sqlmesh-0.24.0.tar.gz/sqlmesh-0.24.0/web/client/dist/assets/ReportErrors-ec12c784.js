import{P as x,r as o,j as s,d as r,a3 as h,u,av as j,aE as p,aC as b,a4 as d}from"./index-8a3a4b1d.js";import{p as g}from"./pluralize-6658fe30.js";import{k as m}from"./popover-162b4a30.js";import{v as n,M as f,P as v}from"./disclosure-5d9b50e6.js";import"./_commonjs-dynamic-modules-302442b1.js";function F(){const{errors:e}=x(),[t,l]=o.useState(!1),a=e.size>0;return s.jsx(m,{onMouseEnter:()=>{l(!0)},onMouseLeave:()=>{l(!1)},className:"flex",children:()=>s.jsxs(s.Fragment,{children:[s.jsx("span",{className:r("block ml-1 px-2 first-child:ml-0 rounded-full border whitespace-nowrap dark:text-neutral-100 text-xs text-center",a?"border-danger-500 text-danger-100 bg-danger-500 cursor-pointer":"border-neutral-500 cursor-default text-neutral-700"),children:a?s.jsxs("span",{children:[e.size," ",g("Error",e.size)]}):s.jsx("span",{children:"No Errors"})}),s.jsx(h,{show:t&&a,as:o.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:s.jsx(m.Panel,{className:r("absolute rounded-md top-20 right-2 z-[1000] bg-light p-2 transform overflow-hidden text-danger-700 shadow-2xl","w-[90vw] max-h-[80vh]"),children:s.jsx("ul",{className:r("w-full bg-danger-10 py-4 pl-3 pr-1 rounded-md overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal","max-w-[90vw] max-h-[80vh]"),children:Array.from(e.entries()).reverse().map(([c,i])=>s.jsx("li",{className:"mb-10",children:s.jsx(N,{scope:c,error:i})},`${c}-${i.message}`))})})})]})})}function N({error:e,scope:t}){const l=u(a=>a.version);return s.jsxs("div",{children:[s.jsxs("div",{className:"flex w-full",children:[s.jsxs("div",{className:"w-[20rem]",children:[s.jsxs("div",{className:"flex aline-center mb-2",children:[s.jsx("small",{className:"block mr-3",children:s.jsx("small",{className:"py-0.5 px-2 bg-danger-500 text-danger-100 rounded-md text-xs",children:e.status??"UI"})}),s.jsx("small",{className:"block",children:t})]}),s.jsxs("div",{className:r("text-sm px-2"),children:[s.jsx("small",{className:"block text-xs font-mono",children:j(p(e.timestamp),"yyyy-mm-dd hh-mm-ss",!1)}),s.jsx("p",{children:e.message})]})]}),s.jsxs("div",{className:"w-full px-4",children:[b(l)&&s.jsxs("small",{className:"block",children:[s.jsx("b",{children:"Version"}),": ",l]}),e.type!=null&&s.jsxs("small",{className:"block",children:[s.jsx("b",{children:"Type"}),": ",e.type]}),e.origin!=null&&s.jsxs("small",{className:"block mb-2",children:[s.jsx("b",{children:"Origin"}),": ",e.origin]}),e.trigger!=null&&s.jsxs("small",{className:"block mb-2",children:[s.jsx("b",{children:"Trigger"}),": ",e.trigger]}),s.jsx(d,{className:"!border-danger-10"}),s.jsx("p",{className:"text-sm my-4",children:e.description})]})]}),e.traceback!=null&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"'w-full mb-4 mt-6",children:s.jsx(n,{children:({open:a})=>s.jsxs(s.Fragment,{children:[s.jsxs(n.Button,{className:r("flex items-center justify-between rounded-lg text-left w-full bg-neutral-10 px-3 mb-2"),children:[s.jsx("div",{className:"text-lg font-bold whitespace-nowrap w-full",children:s.jsx("h3",{className:"py-2",children:"Traceback"})}),s.jsx("div",{children:a?s.jsx(f,{className:"h-6 w-6 text-danger-500"}):s.jsx(v,{className:"h-6 w-6 text-danger-500"})})]}),s.jsx(n.Panel,{className:"px-2 pb-2 overflow-hidden",children:s.jsx("pre",{className:"font-mono w-full bg-dark-lighter text-danger-500 rounded-lg p-4 overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal max-h-[35vh] text-sm",children:s.jsx("code",{children:e.traceback??e.message})})})]})})}),s.jsx(d,{className:"!border-danger-10"})]})]})}export{N as DisplayError,F as default};
