Metadata-Version: 2.1
Name: openi-beta
Version: 2.0.7
Summary: Beta package for openi pypi
Home-page: https://openi.pcl.ac.cn/OpenIOSSG/openi-pypi
Author: chenzh05
Author-email: chenzh.ds@outlook.com
License: MIT
Classifier: License :: OSI Approved :: MIT License
Classifier: Intended Audience :: Developers
Classifier: Topic :: Software Development :: Build Tools
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Operating System :: OS Independent
Requires-Python: >=3.6
Description-Content-Type: text/markdown
Requires-Dist: requests
Requires-Dist: tqdm
Requires-Dist: emoji

# OpenI Beta æµ‹è¯•

> PYPI package for å¯æ™º AI åä½œå¹³å°ã€‚

å¯æ™ºå¹³å°æä¾›çš„ Python å·¥å…·åŒ…ï¼Œä½¿ç”¨æˆ·èƒ½åœ¨æœ¬åœ°ä¸Šä¼ æ•°æ®é›†ã€‚

## å®‰è£…

_é€‚é… python3.6 åŠä»¥ä¸Šç‰ˆæœ¬_

```bash
pip install openi-beta
```

## åŠŸèƒ½ä»‹ç»

- æä¾›åœ¨æœ¬åœ°æˆ–çŽ¯å¢ƒä¸­ï¼Œä½¿ç”¨**å‘½ä»¤è¡Œ**æˆ–**ä»£ç **ä¸Šä¼ /ä¸‹è½½æ•°æ®é›†åŠŸèƒ½
- åœ¨æœ¬å¹³å°äº‘è„‘ä»»åŠ¡çŽ¯å¢ƒä¸­ä½¿ç”¨**ä»£ç å‡½æ•°**è¿”å›žæ•°æ®é›†/æ¨¡åž‹è·¯å¾„å‚æ•°
- API å‚è€ƒ [å¸®åŠ©æ–‡æ¡£](http://192.168.207.34/docs/index.html#/api/list)

## ä½¿ç”¨è¯´æ˜Ž

- ä½¿ç”¨å‰è¯·åœ¨å¹³å°ä¸ªäººè®¾ç½®ä¸­èŽ·å– tokenï¼š[ç‚¹å‡»è·³è½¬ token èŽ·å–ç•Œé¢](https://openi.pcl.ac.cn/user/settings/applications)
- åœ¨å‘½ä»¤è¡Œæˆ–è€…ä»£ç ä¸­ä½¿ç”¨`login()`è¾“å…¥å¯æ™ºè´¦å·ä»¤ç‰Œï¼Œé¦–æ¬¡è¾“å…¥åŽå°†ä¿å­˜åˆ°æœ¬æœº

```python
import openi
openi.login()
```

```bash
> openi login


             â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
            â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â•â•â•â•  â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â•
            â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘
            â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•”â•â•â•â•  â–ˆâ–ˆâ•”â•â•â•    â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘
            â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
             â•šâ•â•â•â•â•â•   â•šâ•â•      â•šâ•â•â•â•â•â•â•  â•šâ•â•  â•šâ•â•â•â•  â•šâ•â•â•â•â•â•


ç‚¹å‡»é“¾æŽ¥èŽ·å–ä»¤ç‰Œå¹¶å¤åˆ¶ç²˜è´´åˆ°ä¸‹åˆ—è¾“å…¥æ  https://openi.pcl.ac.cn/user/settings/applications

[WARNING] è‹¥æœ¬æœºå·²å­˜åœ¨ç™»å½•ä»¤ç‰Œï¼Œæœ¬æ¬¡è¾“å…¥çš„ä»¤ç‰Œä¼šå°†å…¶è¦†ç›–
          ç²˜è´´å‰è¯·å…ˆæŒ‰ é€€æ ¼é”®â‡¦ åˆ é™¤å¤šä½™ç©ºæ ¼

  ðŸ”’ token:

```

## ä½¿ç”¨ç¤ºä¾‹

#### å‘½ä»¤è¡Œä½¿ç”¨

- åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥`openi -h`æŸ¥çœ‹ä½¿ç”¨è¯´æ˜Ž

```bash
> openi -h
usage: openi {login, whoami, dataset, ...} [<args>] [-h]

OpenI command line tool å¯æ™ºAIåä½œç¤¾åŒºå‘½ä»¤è¡Œå·¥å…·

commands:
  {login,logout,whoami,dataset,d}
    login               ä½¿ç”¨ä»¤ç‰Œç™»å½•å¯æ™ºå¹¶ä¿å­˜åˆ°æœ¬æœº
    logout              ç™»å‡ºå½“å‰ç”¨æˆ·å¹¶åˆ é™¤æœ¬åœ°ä»¤ç‰Œæ–‡ä»¶
    whoami              æŸ¥è¯¢å½“å‰ç™»å½•ç”¨æˆ·
    dataset (d)         {upload,download} ä¸Šä¼ /ä¸‹è½½å¯æ™ºAIåä½œå¹³å°çš„æ•°æ®é›†
```

#### æ•°æ®é›†ä¸Šä¼ /ä¸‹è½½

```bash
> openi dataset upload -f local_dir/my_data.zip -r user1/repo1 -c gpu
14:35:07 - `my_data.zip`(GPU) calculating md5...
14:35:07 - Uploading: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 154M/154M [01:28<00:00, 1.73MB/s]
14:36:37 - ðŸŽ‰ Successfully uploaded, view on link: https://openi.pcl.ac.cn/user1/repo1/datasets
```

```bash
> openi dataset download -f my_data.zip -r user1/repo -c gpu -p local_dir/
14:51:59 - `my_data.zip`(GPU) preprocessing...
14:52:00 - Downloading: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 154M/154M [00:02<00:00, 59.5MB/s]
14:52:02 - ðŸŽ‰ Download complete! file was saved to `local_dir/my_data.zip`
```

#### GPUï¼ŒGCU äº‘è„‘ä»»åŠ¡è·¯å¾„èŽ·å–

```python
#å…¬å…±å‡½æ•°
from openi.path import (
    get_code_path,
    get_data_path,
    get_pretrain_model_path,
    get_output_path,
    push_output_to_openi,
)
#ä½¿ç”¨æ–¹æ³•ï¼š
code_path = get_code_path()
data_path = get_data_path()
pretrain_model_path = get_pretrain_model_path()
output_path = get_output_path()
push_output_to_openi = push_output_to_openi()


```

#### NPU äº‘è„‘ä»»åŠ¡è·¯å¾„èŽ·å–

```python
#å…¬å…±å‡½æ•°
from openi.cloudbrain import (
    openi_multidataset_to_env  å¯æ™ºé›†ç¾¤ä»»åŠ¡å°†æ•°æ®é›†æ‹·è´åˆ°è®­ç»ƒé•œåƒ
    c2net_multidataset_to_env  æ™ºç®—é›†ç¾¤ä»»åŠ¡å°†æ•°æ®é›†æ‹·è´åˆ°è®­ç»ƒé•œåƒ
    pretrain_to_env            å°†é¢„è®­ç»ƒæ¨¡åž‹æ–‡ä»¶æ‹·è´åˆ°è®­ç»ƒé•œåƒ
    env_to_openi               å°†è®­ç»ƒé•œåƒçš„è¾“å‡ºç»“æžœæ‹·è´å›žå¯æ™ºå¹³å°
    obs_copy_file              é€šè¿‡moxæ‹·è´æ–‡ä»¶
    obs_copy_folder 	       é€šè¿‡moxæ‹·è´æ–‡ä»¶å¤¹
)
#ä½¿ç”¨æ–¹æ³•ï¼š
å‚è€ƒnpuè®­ç»ƒç¤ºä¾‹ä»£ç ï¼›ç”¨æˆ·ä¸éœ€è¦æ‹·è´openi.pyåˆ°è‡ªå·±ä»“åº“ï¼Œåªéœ€è¦å®‰è£…openiåŒ…ï¼Œå°±å¯ä½¿ç”¨ä»¥ä¸‹å…¬å…±å‡½æ•°ï¼š
openi_multidataset_to_env(args.multi_data_url, data_dir)
c2net_multidataset_to_env(args.multi_data_url, data_dir)
pretrain_to_env(args.pretrain_url, pretrain_dir)
env_to_openi(train_dir,args.train_url)
obs_copy_file(obs_path_file,local_path_file)
obs_copy_folder(obs_path,local_path)
```
